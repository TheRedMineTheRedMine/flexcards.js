"use strict";const setClass=t=>"flexcards__"+t;class FlexCards{constructor(t){this.delay=6e3,this.index=0,this.interval=setInterval(()=>void 0,this.delay),this.timeElapsed=0;try{let s=document.querySelector(t);if(!s)throw"";this.container=s}catch(t){console.warn("The provided selector doesn't exists."),this.container=document.createElement("div")}this.slides=Array.from(this.container.querySelectorAll("article")),this.length=this.slides.length,this.container.classList.add(setClass("wrapper"));let s=document.createElement("div"),e=document.createElement("div"),i=document.createElement("div");s.classList.add(setClass("container")),e.classList.add(setClass("content")),i.classList.add(setClass("index")),this.container.textContent="",this.container.append(s,i),s.append(e),this.slides.forEach((t,s)=>{e.appendChild(t),t.classList.add(setClass("card")),t.setAttribute("data-id",s.toString())}),this.components={container:s,content:e,index:i}}carousel(t={indexType:"dots",theme:"#444"}){function s(t=0){this.index+=t,clearInterval(this.interval),this.timeElapsed=0,this.index<0?this.index=this.length-1:this.index>=this.length&&(this.index=0);let s=n(t);a.scroll({left:a.clientWidth*(h+t),behavior:"smooth"}),setTimeout(()=>{r(s),a.scroll({left:a.clientWidth*h,behavior:"auto"})},600),l.querySelectorAll("span").forEach(t=>t.dispatchEvent(new Event("update"))),this.interval=setInterval(()=>o.click(),this.delay)}function e(t){let e=t.currentTarget;s.call(this,-2*Number(e.classList.contains("left"))+1),e.blur()}const{container:i,content:a,index:l}=this.components,n=(t=1)=>(t=-t%this.length,this.slides.map((s,e)=>this.slides[e+(this.slides[e-t]?-t:Math.sign(t)*(this.length-Math.abs(t)))])),r=t=>t.forEach((t,s)=>{this.slides[s]=t,a.appendChild(t)}),h=Math.abs(Math.round(this.length/2-1));r(n(-h)),a.scroll({left:a.clientWidth*h,behavior:"auto"});let c=document.createElement("button"),o=document.createElement("button"),d=document.createElement("img"),p=document.createElement("img");c.classList.add(setClass("arrow"),"left"),o.classList.add(setClass("arrow"),"right"),d.classList.add(setClass("carret")),p.classList.add(setClass("carret")),c.type="button",o.type="button",d.alt="Toggle left",p.alt="Toggle right",d.src="../assets/icons/carret.svg",p.src="../assets/icons/carret.svg",c.appendChild(d),o.appendChild(p),i.insertBefore(c,a),i.appendChild(o);let u=t.theme||"#444";u=u.replace("#",""),u=u.replace(/^([a-f\d])([a-f\d])([a-f\d])$/i,(t,s,e,i)=>s+s+e+e+i+i);const m=/([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(u);let g=m?[parseInt(m[1],16),parseInt(m[2],16),parseInt(m[3],16)]:[0,0,0],v=new RGBtoHSL(g[0],g[1],g[2]).solve();if(c.style.filter=v,o.style.filter=v,l.style.setProperty("--theme","#"+u),t.hasOwnProperty("indexType"))if("numbers"===t.indexType){let t=document.createElement("span"),s=document.createElement("span");t.classList.add(setClass("count")),s.classList.add(setClass("limit")),t.textContent="1",s.innerHTML=this.length.toString(),t.addEventListener("update",()=>t.textContent=(this.index+1).toString()),l.append(t,"/",s)}else this.slides.forEach((t,e)=>{let i=document.createElement("span");i.classList.add(setClass("dot")),i.onclick=(()=>(function(){let t=this.slides.filter(t=>{var s;return(null===(s=t.dataset)||void 0===s?void 0:s.id)===e.toString()})[0],i=this.slides.map((s,e)=>s==t?e:0).reduce((t,s)=>t+s);s.call(this,i-Math.round(this.length/2)+1)}).call(this)),i.addEventListener("update",()=>i.classList[this.index===e?"add":"remove"]("current")),l.appendChild(i)});[c,o].forEach(t=>t.onclick=(t=>e.call(this,t))),s.call(this)}}class RGBtoHSL{constructor(t,s,e){this.r=this.clamp(t),this.g=this.clamp(s),this.b=this.clamp(e),this.target=this,this.targetHSL=this.target.hsl()}clamp(t){return t>255?t=255:t<0&&(t=0),t}multiply(t){let s=this.clamp(this.r*t[0]+this.g*t[1]+this.b*t[2]),e=this.clamp(this.r*t[3]+this.g*t[4]+this.b*t[5]),i=this.clamp(this.r*t[6]+this.g*t[7]+this.b*t[8]);this.r=s,this.g=e,this.b=i}hueRotate(t=0){t=t/180*Math.PI;let s=Math.sin(t),e=Math.cos(t);this.multiply([.213+.787*e-.213*s,.715-.715*e-.715*s,.072-.072*e+.928*s,.213-.213*e+.143*s,.715+.285*e+.14*s,.072-.072*e-.283*s,.213-.213*e-.787*s,.715-.715*e+.715*s,.072+.928*e+.072*s])}sepia(t=1){this.multiply([.393+.607*(1-t),.769-.769*(1-t),.189-.189*(1-t),.349-.349*(1-t),.686+.314*(1-t),.168-.168*(1-t),.272-.272*(1-t),.534-.534*(1-t),.131+.869*(1-t)])}saturate(t=1){this.multiply([.213+.787*t,.715-.715*t,.072-.072*t,.213-.213*t,.715+.285*t,.072-.072*t,.213-.213*t,.715-.715*t,.072+.928*t])}brightness(t=1){this.linear(t)}contrast(t=1){this.linear(t,-.5*t+.5)}linear(t=1,s=0){this.r=this.clamp(this.r*t+255*s),this.g=this.clamp(this.g*t+255*s),this.b=this.clamp(this.b*t+255*s)}invert(t=1){this.r=this.clamp(255*(t+this.r/255*(1-2*t))),this.g=this.clamp(255*(t+this.g/255*(1-2*t))),this.b=this.clamp(255*(t+this.b/255*(1-2*t)))}hsl(){let t=this.r/255,s=this.g/255,e=this.b/255,i=Math.max(t,s,e),a=Math.min(t,s,e),l=0,n=0,r=(i+a)/2;if(i===a)l=n=0;else{let h=i-a;switch(n=r>.5?h/(2-i-a):h/(i+a),i){case t:l=(s-e)/h+(s<e?6:0);break;case s:l=(e-t)/h+2;break;case e:l=(t-s)/h+4}l/=6}return{h:100*l,s:100*n,l:100*r}}solve(){let t=this.solveNarrow(this.solveWide());return this.toString(t.values)}solveWide(){const t=5,s=15,e=[60,180,18e3,600,1.2,1.2];let i={loss:1/0,values:[]};for(let a=0;i.loss>25&&a<3;a++){let a=[50,20,3750,50,100,100],l=this.spsa(t,e,s,a,1e3);l.loss<i.loss&&(i=l)}return i}solveNarrow(t){const s=t.loss,e=2,i=s+1,a=[.25*i,.25*i,i,.25*i,.2*i,.2*i];return this.spsa(s,a,e,t.values,500)}spsa(t,s,e,i,a){function l(t,s){let e=100;return 2===s?e=7500:4!==s&&5!==s||(e=200),3===s?t>e?t%=e:t<0&&(t=e+t%e):t<0?t=0:t>e&&(t=e),t}const n=1,r=1/6;let h=null,c=1/0,o=new Array(6),d=new Array(6),p=new Array(6);for(let u=0;u<a;u++){let a=e/Math.pow(u+1,r);for(let t=0;t<6;t++)o[t]=Math.random()>.5?1:-1,d[t]=i[t]+a*o[t],p[t]=i[t]-a*o[t];let m=this.loss(d)-this.loss(p);for(let e=0;e<6;e++){let r=m/(2*a)*o[e],h=s[e]/Math.pow(t+u+1,n);i[e]=l(i[e]-h*r,e)}let g=this.loss(i);g<c&&(h=i.slice(0),c=g)}return{values:h||[],loss:c}}loss(t){let s=new RGBtoHSL(0,0,0);s.invert(t[0]/100),s.sepia(t[1]/100),s.saturate(t[2]/100),s.hueRotate(3.6*t[3]),s.brightness(t[4]/100),s.contrast(t[5]/100);let e=s.hsl();return Math.abs(s.r-this.target.r)+Math.abs(e.h-this.targetHSL.h)+Math.abs(s.g-this.target.g)+Math.abs(e.s-this.targetHSL.s)+Math.abs(s.b-this.target.b)+Math.abs(e.l-this.targetHSL.l)}toString(t){const s=(s,e=1)=>Math.round(t[s]*e);return`invert(${s(0)}%) `+`sepia(${s(1)}%) `+`saturate(${s(2)}%) `+`hue-rotate(${s(3,3.6)}deg) `+`brightness(${s(4)}%) `+`contrast(${s(5)}%)`}}