{"version":3,"file":"index.modern.js","sources":["../src/color.ts","../src/index.tsx"],"sourcesContent":["export default class RGBtoHSL {\n    private r: number;\n    private g: number;\n    private b: number;\n\n    private target: RGBtoHSL;\n    private targetHSL: { h: number; s: number; l: number };\n\n    constructor(r: number, g: number, b: number) {\n        this.r = this.clamp(r);\n        this.g = this.clamp(g);\n        this.b = this.clamp(b);\n\n        this.target = this;\n        this.targetHSL = this.target.hsl();\n    }\n\n    private clamp(value: number) {\n        if (value > 255) { value = 255; }\n        else if(value < 0) { value = 0; }\n        return value;\n    }\n\n    private multiply(matrix: number[]) {\n        let newR = this.clamp(this.r * matrix[0] + this.g * matrix[1] + this.b * matrix[2]),\n            newG = this.clamp(this.r * matrix[3] + this.g * matrix[4] + this.b * matrix[5]),\n            newB = this.clamp(this.r * matrix[6] + this.g * matrix[7] + this.b * matrix[8]);\n\n        this.r = newR;\n        this.g = newG;\n        this.b = newB;\n    }\n\n    private hueRotate(angle = 0) {\n        angle = angle / 180 * Math.PI;\n        let sin = Math.sin(angle), cos = Math.cos(angle);\n\n        this.multiply([\n            .213 + cos * .787 - sin * .213,\n            .715 - cos * .715 - sin * .715,\n            .072 - cos * .072 + sin * .928,\n            .213 - cos * .213 + sin * .143,\n            .715 + cos * .285 + sin * .140,\n            .072 - cos * .072 - sin * .283,\n            .213 - cos * .213 - sin * .787,\n            .715 - cos * .715 + sin * .715,\n            .072 + cos * .928 + sin * .072\n        ]);\n    }\n\n    private sepia(value = 1) {\n        this.multiply([\n            0.393 + 0.607 * (1 - value), 0.769 - 0.769 * (1 - value), 0.189 - 0.189 * (1 - value),\n            0.349 - 0.349 * (1 - value), 0.686 + 0.314 * (1 - value), 0.168 - 0.168 * (1 - value),\n            0.272 - 0.272 * (1 - value), 0.534 - 0.534 * (1 - value), 0.131 + 0.869 * (1 - value)\n        ]);\n    }\n\n    private saturate(value = 1) {\n        this.multiply([\n            0.213 + 0.787 * value, 0.715 - 0.715 * value, 0.072 - 0.072 * value,\n            0.213 - 0.213 * value, 0.715 + 0.285 * value, 0.072 - 0.072 * value,\n            0.213 - 0.213 * value, 0.715 - 0.715 * value, 0.072 + 0.928 * value\n        ]);\n    }\n\n    private brightness(value = 1) { this.linear(value) }\n    private contrast(value = 1) { this.linear(value, -(.5 * value) + .5) }\n\n    private linear(slope = 1, intercept = 0) {\n        this.r = this.clamp(this.r * slope + intercept * 255);\n        this.g = this.clamp(this.g * slope + intercept * 255);\n        this.b = this.clamp(this.b * slope + intercept * 255);\n    }\n\n    private invert(value = 1) {\n        this.r = this.clamp((value + (this.r / 255) * (1 - 2 * value)) * 255);\n        this.g = this.clamp((value + (this.g / 255) * (1 - 2 * value)) * 255);\n        this.b = this.clamp((value + (this.b / 255) * (1 - 2 * value)) * 255);\n    }\n\n    private hsl() {\n        let r = this.r / 255,\n            g = this.g / 255,\n            b = this.b / 255,\n            max = Math.max(r, g, b),\n            min = Math.min(r, g, b);\n        let h = 0, s = 0, l = (max + min) / 2;\n\n        if(max === min) h = s = 0;\n        else {\n            let d = max - min;\n            s = l > .5 ? d / (2 - max - min) : d / (max + min);\n            switch(max) {\n                case r: h = (g - b) / d + (g < b ? 6 : 0); break;\n                case g: h = (b - r) / d + 2; break;\n                case b: h = (r - g) / d + 4; break;\n            }\n            h /= 6;\n        }\n\n        return { h: h * 100, s: s * 100, l: l * 100 };\n    }\n\n    public solve() {\n        let result = this.solveNarrow(this.solveWide());\n        return this.toString(result.values);\n    }\n\n    private solveWide() {\n        const A = 5, c = 15, a = [60, 180, 18000, 600, 1.2, 1.2];\n        let best: { loss: number, values: number[] } = { loss: Infinity, values: [] };\n\n        for (let i = 0; best.loss > 25 && i < 3; i++) {\n            let initial = [50, 20, 3750, 50, 100, 100];\n            let result = this.spsa(A, a, c, initial, 1000);\n\n            if(result.loss < best.loss) best = result;\n        }\n\n        return best;\n    }\n\n    private solveNarrow(wide: { loss: number, values: number[] }) {\n        const A = wide.loss;\n        const c = 2, A1 = A + 1;\n        const a = [0.25 * A1, 0.25 * A1, A1, 0.25 * A1, 0.2 * A1, 0.2 * A1];\n\n        return this.spsa(A, a, c, wide.values, 500);\n    }\n\n    private spsa(A: number, a: number[], c: number, values: number[], iters: number) {\n        const alpha = 1, gamma = 1/6;\n\n        let best = null,\n            bestLoss = Infinity,\n            deltas = new Array(6),\n            highArgs = new Array(6),\n            lowArgs = new Array(6);\n\n        function fix(value: number, idx: number) {\n            let max = 100;\n\n            if (idx === 2) max = 7500;\n            else if (idx === 4 || idx === 5) max = 200;\n\n            if (idx === 3) {\n                if (value > max) value %= max;\n                else if (value < 0) value = max + value % max;\n            } else if (value < 0) value = 0;\n            else if (value > max) value = max;\n\n            return value;\n        }\n\n        for (let k = 0; k < iters; k++) {\n            let ck = c / Math.pow(k + 1, gamma);\n\n            for (let i = 0; i < 6; i++) {\n                deltas[i] = Math.random() > .5 ? 1 : -1;\n                highArgs[i] = values[i] + ck * deltas[i];\n                lowArgs[i] = values[i] - ck * deltas[i];\n            }\n\n            let lossDiff = this.loss(highArgs) - this.loss(lowArgs);\n\n            for (let i = 0; i < 6; i++) {\n                let g = lossDiff / (2 * ck) * deltas[i];\n                let ak = a[i] / Math.pow(A + k + 1, alpha);\n                values[i] = fix(values[i] - ak * g, i);\n            }\n\n            let loss = this.loss(values);\n\n            if (loss < bestLoss) {\n                best = values.slice(0);\n                bestLoss = loss;\n            }\n        }\n\n        return { values: best || [], loss: bestLoss };\n    }\n\n    private loss(filters: number[]) {\n        let color = new RGBtoHSL(0, 0, 0);\n\n        color.invert(filters[0] / 100);\n        color.sepia(filters[1] / 100);\n        color.saturate(filters[2] / 100);\n        color.hueRotate(filters[3] * 3.6); // 100 * 360\n        color.brightness(filters[4] / 100);\n        color.contrast(filters[5] / 100);\n\n        let colorHSL = color.hsl();\n\n        return Math.abs(color.r - this.target.r) + Math.abs(colorHSL.h - this.targetHSL.h)\n             + Math.abs(color.g - this.target.g) + Math.abs(colorHSL.s - this.targetHSL.s)\n             + Math.abs(color.b - this.target.b) + Math.abs(colorHSL.l - this.targetHSL.l);\n    }\n\n    private toString(filters: number[]) {\n        const fmt = (idx: number, multiplier = 1) => Math.round(filters[idx] * multiplier);\n\n        return `invert(${fmt(0)}%) `     + `sepia(${fmt(1)}%) `\n             + `saturate(${fmt(2)}%) `   + `hue-rotate(${fmt(3, 3.6)}deg) `\n             + `brightness(${fmt(4)}%) ` + `contrast(${fmt(5)}%)`;\n    }\n}\n","import React from 'react';\n\nimport RGBtoHSL from './color';\n\nimport arrow from 'icons/carret.svg';\n\n/**\n * Parameters that can be entered after initializing flexcards.js.\n * @interface FlexCardsParams\n */\n\ninterface FlexCardsParams extends React.HTMLAttributes<HTMLDivElement> {\n    component?: 'default' | 'images';\n    delay?: number;\n    indexType?: 'numbers' | 'dots';\n    stop?: boolean;\n    theme?: string;\n    timer?: boolean;\n};\n\nfunction getTheme(color: string) {\n    // Get color theme\n    color = color.replace('#', '');\n    color = color.replace(/^([a-f\\d])([a-f\\d])([a-f\\d])$/i, (_m, r, g, b) => r+r+g+g+b+b);\n\n    const result = /^([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(color);\n\n    let rgb = result // Parse numbers from hexadecimal to decimal\n        ? [parseInt(result[1], 16), parseInt(result[2], 16), parseInt(result[3], 16)]\n        : [0, 0, 0],\n        filter = new RGBtoHSL(rgb[0], rgb[1], rgb[2]).solve();\n\n    return { rgb: \"#\" + color, filter };\n};\n\nfunction setClass (...tokens: Array<string | undefined>) {\n    let result = tokens.map(a => typeof a === 'string' ? a : \"\").join(' ').replace(/  +/g, \" \");\n    return result.endsWith(\" \") ? result.slice(0, -1) : result;\n}\n\nexport const Component: React.FC<React.HTMLAttributes<HTMLElement>> = params => (\n    <article {...params} className={setClass('flexcards__card', params.className)}>\n        {params.children}\n    </article>\n);\n\nexport const Carousel: React.FC<FlexCardsParams> = ({\n    component = 'default',\n    delay = 6000,\n    indexType = 'dots',\n    stop = false,\n    theme = '#666',\n    timer = false,\n  ...params\n}) => {\n    var interval = setInterval(() => void 0, delay),\n        carousel = document.createElement('div'),\n        refreshTime = 250,\n        timeElapsed = 0,\n        index = 0;\n\n    const colors = getTheme(theme);\n    const id = Array.from(new Uint8Array(10)).map(() => \"abcdefghijklmnopqrstuvwxyz\"\n        [Math.floor(Math.random()*26)]\n        [Math.round(Math.random()) ? 'toUpperCase' : 'toLowerCase']\n        ()).join('');\n\n    // Get slides\n    var slides = Array.from(carousel.querySelectorAll(component==='default'?'article':'img')),\n        { length } = slides;\n\n    const dotClick = (key: number) => {\n        let count = key - index;\n\n        for (let i = 0; i < Math.abs(count); i++) {\n            if (count < 0) carousel.querySelector('.left');\n            else if (count > 0) carousel.querySelector('.right');\n        }\n    };\n\n    const render = (step = 0) => {\n        let content = carousel.querySelector<HTMLDivElement>('.flexcards__content')\n            || document.createElement('div');\n\n        // Re-init time elapsed\n        timeElapsed = 0;\n\n        const updateContent = () => {\n            // put the animation in this function\n            content.querySelectorAll('article').forEach(el => {\n                el.classList.remove('animate');\n                el.remove();\n            });\n\n            // Add items in a specific order\n            content.append(\n                slides[(index - 1 < 0 ? length : index) - 1],\n                slides[index],\n                slides[index + 1 >= length ? 0 : index + 1],\n            );\n\n            content.scroll({ left: content.clientWidth });\n            slides[index].classList.add('animate');\n            content.addEventListener('scroll', onScroll);\n\n            let timer = carousel.querySelector<HTMLDivElement>('.flexcards__timer');\n            timer && timer.style.setProperty('--percentage', '0');\n        }\n\n        if (Math.abs(step)) { // If step != 0 (have to scroll)\n            content.removeEventListener('scroll', onScroll);\n            content.scroll({\n                left: content.clientWidth * (1 + step),\n                behavior: 'smooth',\n            });\n\n            setTimeout(updateContent, 550);\n        } else updateContent();\n\n        // Toggle index\n        if (indexType === 'numbers') {\n            let el = carousel.querySelector('.flexcards__index .flexcards__count');\n            el && (el.textContent = Number(index + 1).toString());\n        } else {\n            content.querySelectorAll<HTMLSpanElement>('.flexcards__index > span')\n                .forEach((dot, key) => dot.classList[index === key ? 'add' : 'remove']('current'));\n        }\n\n        // Re-set \"auto-scroll\"\n        interval = setInterval(() => (\n            carousel.querySelector<HTMLButtonElement>('.flexcards__arrow.right')?.click()\n        ), delay);\n    };\n\n    const onScroll = (e: Event) => {\n        let content = e.currentTarget as HTMLDivElement,\n            calc = 100 * (content.scrollLeft / content.scrollWidth - 1);\n\n        if (calc >= 5) carousel.querySelector<HTMLButtonElement>('.right')?.click();\n        else if (calc <= -5) carousel.querySelector<HTMLButtonElement>('.left')?.click();\n    };\n\n    const onArrowClick = (e: React.MouseEvent<HTMLButtonElement>) => {\n        clearInterval(interval);\n\n        let arrow = e.currentTarget,\n            initialIndex = index;\n\n        index += Number(arrow.classList.contains('left')) * -2 + 1;\n\n        // Check if index is a num between 0 and length\n        if (index < 0) {\n            index = length - 1;\n            initialIndex = length;\n        } else if (index >= length) {\n            index = 0;\n            initialIndex = -1;\n        }\n\n        render(index - initialIndex);\n        arrow.blur();\n    };\n\n    React.useEffect(() => {\n        carousel = (document.querySelector('.flexcards__' + id)\n            || document.createElement('div')) as HTMLDivElement;\n\n        // Index color theme\n        carousel.querySelector<HTMLDivElement>(\".flexcards__index\")\n            ?.style.setProperty('--theme', colors.rgb);\n\n        const timerDisplay = carousel.querySelector<HTMLDivElement>(\".flexcards__timer\");\n\n        // Timer\n        if (timer && timerDisplay) {\n            let iterations = delay / refreshTime * 2;\n\n            timerDisplay.style.setProperty('--theme', colors.rgb)\n            timerDisplay.style.transitionDuration = `${iterations}ms`;\n\n            // Animation function\n            setInterval(() => timerDisplay.style.setProperty('--percentage', (\n                timeElapsed / delay * 200\n            ).toString()), iterations*1e5);\n        }\n\n        // Get time elpased\n        let adder = delay / refreshTime;\n        setInterval(() => timeElapsed += adder, adder);\n\n        // Set data-id attributes to each slides\n        slides.forEach((slide, key) => {\n            slide.classList.add('flexcards__card');\n            if (component === 'images') slide.classList.add('flexcards__image');\n            slide.setAttribute('data-id', key.toString());\n        });\n\n        // Stop function\n        stop && clearInterval(interval);\n\n        // Seems strange, but removing this line, the code won't work properly\n        carousel.querySelector('.flexcards__content')?.addEventListener('scroll', onScroll);\n    });\n\n\treturn (\n\t\t<div\n            {...params}\n            className={setClass('flexcards__wrapper', 'flexcards__'+id, params.className)}\n        >\n\t\t\t<div className=\"flexcards__container flexcards__carousel\">\n                {timer ? <span className=\"flexcards__timer\"></span> : \"\"}\n\n                <button\n                    className=\"flexcards__arrow left\"\n                    type=\"button\"\n                    style={{ filter: colors.filter }}\n                    onClick={onArrowClick}\n                >\n                    <img className=\"flexcards__carret\" src={arrow} alt=\"Toggle left\" />\n                </button>\n\n                <div className=\"flexcards__content\">\n                    {/* Childrens */}\n                    {params.children}\n                </div>\n\n                <button\n                    className=\"flexcards__arrow right\"\n                    type=\"button\"\n                    style={{ filter: colors.filter }}\n                    onClick={onArrowClick}\n                >\n                    <img className=\"flexcards__carret\" src={arrow} alt=\"Toggle right\" />\n                </button>\n\t\t\t</div>\n\n            <div className=\"flexcards__index\">\n                {indexType === 'numbers' ? (\n                    <React.Fragment>\n                        <span className=\"flexcards__count\">1</span>\n                        <span> / </span>\n                        <span className=\"flexcards__limit\">{length}</span>\n                    </React.Fragment>\n                ) : slides.map((_, key) => (\n                    <span\n                        key={key}\n                        className=\"flexcards__dot\"\n                        onClick={() => dotClick(key)}\n                    ></span>\n                ))}\n            </div>\n\t\t</div>\n\t);\n};\n\nexport const AlternateCarousel: React.FC<FlexCardsParams> = ({\n    component = \"default\",\n    delay = 6000,\n    indexType = 'dots',\n    stop = false,\n    theme = \"#666\",\n    timer = false,\n    ...params\n}) => {\n    const id = Array.from(new Uint8Array(10)).map(() => \"abcdefghijklmnopqrstuvwxyz\"\n        [Math.floor(Math.random()*26)]\n        [Math.round(Math.random()) ? 'toUpperCase' : 'toLowerCase']\n        ()).join('');\n\n    React.useEffect(() => {\n        if (!document.getElementById('flexcardsjs-script')) {\n            let script = document.createElement('script'),\n                source = \"https://theredminetheredmine.github.io\";\n\n            script.id = 'flexcardsjs-script';\n            script.src = source + \"flexcards.js/dist/flexcards.min.js\";\n            script.setAttribute('data-host', source);\n\n            document.head.appendChild(script);\n        }\n\n        setTimeout(function () { // @ts-ignore\n            const flexcards = new FlexCards(\".\" + id, {\n                component, indexType, theme, timer\n            }); // @ts-ignore\n            flexcards.carousel();\n        }, 500);\n    }, [id]);\n\n    return (\n        <div {...params} className={setClass(id, params.className)}>\n            {params.children}\n        </div>\n    );\n}\n\nexport default { Carousel };\n"],"names":["RGBtoHSL","constructor","r","g","b","clamp","target","targetHSL","hsl","value","multiply","matrix","newR","newG","newB","hueRotate","angle","Math","PI","sin","cos","sepia","saturate","brightness","linear","contrast","slope","intercept","invert","max","min","h","s","l","d","solve","result","solveNarrow","solveWide","toString","values","A","c","a","best","loss","Infinity","i","initial","spsa","wide","A1","iters","alpha","gamma","bestLoss","deltas","Array","highArgs","lowArgs","fix","idx","k","ck","pow","random","lossDiff","ak","slice","filters","color","colorHSL","abs","fmt","multiplier","round","getTheme","replace","_m","exec","rgb","parseInt","filter","setClass","tokens","map","join","endsWith","Component","params","React","className","children","Carousel","component","delay","indexType","stop","theme","timer","interval","setInterval","carousel","document","createElement","refreshTime","timeElapsed","index","colors","id","from","Uint8Array","floor","slides","querySelectorAll","length","dotClick","key","count","querySelector","render","step","content","updateContent","forEach","el","classList","remove","append","scroll","left","clientWidth","add","addEventListener","onScroll","style","setProperty","removeEventListener","behavior","setTimeout","textContent","Number","dot","_carousel$querySelect","click","e","currentTarget","calc","scrollLeft","scrollWidth","_carousel$querySelect2","_carousel$querySelect3","onArrowClick","clearInterval","arrow","initialIndex","contains","blur","useEffect","_carousel$querySelect4","timerDisplay","iterations","transitionDuration","adder","slide","setAttribute","_carousel$querySelect5","type","onClick","src","alt","Fragment","_","AlternateCarousel","getElementById","script","source","head","appendChild","flexcards","FlexCards"],"mappings":"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"}